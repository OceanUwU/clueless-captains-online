(this["webpackJsonpclueless-captains-online"]=this["webpackJsonpclueless-captains-online"]||[]).push([[0],{104:function(e){e.exports=JSON.parse('{"cards":{"back":"png","back1":"png","back2":"png","blank":"png","block":"png","bravery":"png","brig":"png","captain":"png","chaos":"png","compass0":"png","compass1":"png","compass2":"png","compass3":"png","compass4":"png","compass5":"png","compass6":"png","compass7":"png","e1":"png","e2":"png","e3":"png","e4":"png","forward1":"png","forward2":"png","forward3":"png","forward4":"png","hammer":"png","hammernail":"png","investigate":"png","lookout":"png","matchstick":"png","mute":"png","mutiny":"png","n1":"png","n2":"png","n3":"png","n4":"png","nail":"png","ne1":"png","ne2":"png","ne3":"png","ne4":"png","nw1":"png","nw2":"png","nw3":"png","nw4":"png","persist":"png","reinforce":"png","relocate":"png","s1":"png","s2":"png","s3":"png","s4":"png","se1":"png","se2":"png","se3":"png","se4":"png","seasickness":"png","sw1":"png","sw2":"png","sw3":"png","sw4":"png","turnl1":"png","turnl2":"png","turnl3":"png","turnr1":"png","turnr2":"png","turnr3":"png","turnr4":"png","w1":"png","w2":"png","w3":"png","w4":"png"},"countdown":{"1":"mp3","2":"mp3","3":"mp3","4":"mp3","5":"mp3"},"endMatch":"mp3","icon":"png","iconanimated":"png","iconanimated2":"png","iconSmall":"png","index":"html","roles":{"biologist":"png","pirate":"png","seamaster":"png","seamonster":"png","seaservant":"png"},"ship":"png","shipPlain":"png","startMatch":"mp3","tiles":{"alcohol":"png","blank":"png","iceberg":"png","rock":"png","storm":"png","treasure":"png","unknown":"png","water":"png","waves":"png","whirlpoolleft":"png","whirlpoolright":"png"}}')},129:function(e,t,a){},134:function(e){e.exports=JSON.parse('"wss://ccserver.ocean.lol"')},16:function(e){e.exports=JSON.parse('["#ff62ff","#ff00dd","#ff0000","#e68c00","#e8e000","#2cdb84","#0eeb12","#005c06","#8c00ff","#4a008f","#0414c2","#0080fe","#593400","#7a0000","#a4a4a4","#292929"]')},172:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);a(171),a(172);var n=a(149),r=Object(n.a)({palette:{type:"light",background:{default:"#feffc7"},primary:{main:"#d49a3d"}},overrides:{MuiButton:{textPrimary:{background:"linear-gradient(45deg, #6b65cd 0%, #00d4ff 100%)",borderRadius:3,border:0,color:"white !important",padding:"0 30px",boxShadow:"0 3px 5px 2px #00d4ff4D"},textSecondary:{background:"linear-gradient(45deg, #00ffaf 0%, #3956c7 100%)",borderRadius:3,border:0,color:"white !important",padding:"0 30px",boxShadow:"0 3px 5px 2px #00ffaf4D"}}}}),s=a(24),i=a.n(s),c=a(12),o=a(42),l=a(1),d=a.n(l),h=a(13),j=a.n(h),b=a(268),u=a(267),m=a(133),p=a.n(m),x=a(134),O=a(79),f=a(80),g=a(51),y=a(94),v=a(93),w=a(5),S=a(220),k=a(292),C=a(266),I=a(264),N=a(265),P=a(263),T=a(0),M=function(e){Object(y.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={open:!1},n.handleOpen=n.handleOpen.bind(Object(g.a)(n)),n.handleClose=n.handleClose.bind(Object(g.a)(n)),n}return Object(f.a)(a,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.props.classes;return Object(T.jsx)("div",{children:Object(T.jsxs)(k.a,{open:this.state.open,onClose:this.handleClose,disablePortal:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:this.props.required,disableEscapeKeyDown:this.props.required,children:[Object(T.jsx)(P.a,{id:"alert-dialog-title",children:this.props.title}),Object(T.jsxs)(I.a,{dividers:!0,children:[Object(T.jsx)(N.a,{className:e.text,id:"alert-dialog-description",children:this.props.description}),this.props.children]}),Object(T.jsxs)(C.a,{children:[this.props.required?null:Object(T.jsx)(S.a,{onClick:this.handleClose,color:"secondary",children:"Close"}),this.props.buttonText?Object(T.jsx)(S.a,{onClick:this.props.buttonAction,color:"primary",children:this.props.buttonText}):null]})]})})}}]),a}(d.a.Component),H=Object(w.a)((function(e){return{text:{margin:0}}}))(M);function A(){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(i.a.mark((function e(){var t,a,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},a=n.length>1&&void 0!==n[1]?n[1]:null,e.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark((function e(n){var s,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({title:"Dialog title",required:!1},t),l="dialog".concat(t.layer?t.layer:0),null==(d=document.getElementById(l))&&((d=document.createElement("div")).id=l,document.getElementById("dialog").appendChild(d)),j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(H,Object(c.a)(Object(c.a)({},t),{},{ref:function(e){return s=e},children:a}))]}),d),s?(s.handleOpen(),n(s)):setTimeout(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,A(t,a);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),100);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=A,R=(a(129),a(269));var B=function(){return Object(T.jsxs)("div",{className:"centred",children:[Object(T.jsx)(R.a,{}),Object(T.jsx)("h3",{children:"Attempting to connect to the Clueless Captains server..."})]})},D=a(85),W=a.n(D);var L=function(e){return Object(T.jsxs)("div",{className:"centred",children:[Object(T.jsx)(W.a,{}),Object(T.jsx)("h3",{children:"Failed to connect to the Clueless Captains server."}),e.error?Object(T.jsxs)("p",{children:['Error: "',e.error,'"']}):null,Object(T.jsx)("h4",{children:"Are you offline? If not, the Clueless Captains server might be down."}),Object(T.jsx)(S.a,{size:"large",color:"primary",onClick:function(){return window.location.reload(!1)},children:"Retry"})]})},F=a(72),J=a(279),V=a(276),Y=a(271),U=a(4),q=a(221),K=a(224),G=a(222),_=a(270),X=a(225),Q=a(136),Z=a.n(Q),$=function(e){Object(y.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).state={code:""},n.changeInput=n.changeInput.bind(Object(g.a)(n)),n.tryCode=n.tryCode.bind(Object(g.a)(n)),n}return Object(f.a)(a,[{key:"changeInput",value:function(e){var t=e.target.value;t=t.replace(" ",""),this.setState({code:t})}},{key:"tryCode",value:function(){Ea.emit("joinMatch",this.state.code)}},{key:"componentDidMount",value:function(){var e=this;window.location.search.length>1&&(this.setState({code:window.location.search.slice(1)},(function(){return e.tryCode()})),window.history.pushState("","","/"))}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(T.jsxs)("div",{children:[Object(T.jsx)("label",{htmlFor:"roomCodeInput",children:"Or, join by code:"}),Object(T.jsx)("br",{}),Object(T.jsxs)(q.a,{className:Object(U.a)(t.margin,t.textField),variant:"filled",children:[Object(T.jsx)(G.a,{htmlFor:"roomCodeInput",children:"Room code"}),Object(T.jsx)(K.a,{id:"roomCodeInput",type:"text",value:this.state.code,onChange:this.changeInput,autoComplete:"off",inputProps:{className:t.textInput,maxLength:6,onKeyDown:function(t){"Enter"==t.key&&e.tryCode()}},endAdornment:Object(T.jsx)(_.a,{position:"end",children:Object(T.jsx)(X.a,{"aria-label":"Join",onClick:this.tryCode,edge:"end",children:Object(T.jsx)(Z.a,{})})})})]})]})}}]),a}(d.a.Component),ee=Object(w.a)((function(e){return{margin:{margin:e.spacing(1),marginBottom:0},joinLabel:{display:"inline-block",marginTop:22,marginRight:4},textField:{width:"18ch"},textInput:{textTransform:"uppercase"}}}))($),te=a(8),ae=a(273),ne=a(272),re=a(137),se=a.n(re),ie=Object(Y.a)((function(e){return{margin:{margin:e.spacing(1)},input:{width:170},label:{textAlign:"center"}}}));var ce=function(){var e=ie(),t=d.a.useState(localStorage.name?localStorage.name:""),a=Object(te.a)(t,2),n=a[0],r=a[1],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||r(e),localStorage.name=e,Ea.emit("changeName",e)};return s(n,!0),Object(T.jsx)("div",{className:e.margin,children:Object(T.jsxs)(ne.a,{container:!0,justify:"center",spacing:1,alignItems:"flex-end",children:[Object(T.jsx)(ne.a,{item:!0,children:Object(T.jsx)(se.a,{})}),Object(T.jsx)(ne.a,{item:!0,children:Object(T.jsx)(ae.a,{id:"nameInput",label:"Your name",value:n,onChange:function(e){return s(e.target.value)},autoComplete:"off",inputProps:{className:e.input,maxLength:6,onKeyDown:function(e){"Enter"==e.key&&document.activeElement.blur()}},InputLabelProps:{className:e.label}})})]})})},oe=a(275),le=a(16);var de=function(e){var t=d.a.useState(e.selected),a=Object(te.a)(t,2),n=a[0],r=a[1],s=d.a.useState([]),i=Object(te.a)(s,2),c=i[0],o=i[1];return d.a.useEffect((function(){Ea.emit("changeColor",n)})),null!=e.matchInfo&&d.a.useEffect((function(){var t=function(e){console.log(":O"),o(e.players.map((function(e){return e.num})))};return Ea.on("matchUpdate",t),t(e.matchInfo),function(){return Ea.off("matchUpdate",t)}}),[]),Object(T.jsx)(oe.a,{orientation:"vertical",children:function(){for(var e=[],t=function(t){e.push(Object(T.jsx)(oe.a,{children:function(){for(var e=[],a=function(t){e.push(Object(T.jsx)(S.a,{style:{color:"white",backgroundColor:le[t],height:"2.5em",width:0},onClick:function(){c.includes(t)||(localStorage.cccolor=String(t),r(t))},children:n==t?"\u2713":c.includes(t)?"\u2715":" "}))},s=t;s<t+4;s++)a(s);return e}()}))},a=0;a<16;a+=4)t(a);return e}()})},he=a(69),je=a(36),be=a(223),ue=a(277),me=a(293),pe=a(278),xe=a(290),Oe=a(229),fe=a(294),ge=a(227),ye=a(291),ve=a(295),we=a(88),Se=a.n(we),ke=a(87),Ce=a.n(ke),Ie=a(90),Ne=a.n(Ie),Pe=a(32),Te=a(86),Me=a.n(Te),He=[1,8],Ae=Object(Y.a)((function(e){return{formControl:{margin:e.spacing(1)},select:{width:200},smallSelect:{width:50}}})),ze=[["treasure",!0],["rock",!1],["iceberg",!1],["waves",!1],["storm",!1],["alcohol",!1],["whirlpoolleft",!1],["whirlpoolright",!1]],Ee=[["n1",!0],["n2",!0],["n3",!0],["n4",!0],["ne1",!0],["ne2",!0],["ne3",!0],["ne4",!0],["e1",!0],["e2",!0],["e3",!0],["e4",!0],["se1",!0],["se2",!0],["se3",!0],["se4",!0],["s1",!0],["s2",!0],["s3",!0],["s4",!0],["sw1",!0],["sw2",!0],["sw3",!0],["sw4",!0],["w1",!0],["w2",!0],["w3",!0],["w4",!0],["nw1",!0],["nw2",!0],["nw3",!0],["nw4",!0],["forward1",!0],["forward2",!0],["forward3",!0],["forward4",!0],["turnl1",!0],["turnl2",!0],["turnl3",!0],["turnr1",!0],["turnr2",!0],["turnr3",!0],["turnr4",!0],["seasickness",!0],["persist",!0],["relocate",!0],["chaos",!0],["bravery",!0],["compass0",!0],["compass1",!0],["compass2",!0],["compass3",!0],["compass4",!0],["compass5",!0],["compass6",!0],["compass7",!0],["hammer",!0],["nail",!0],["hammernail",!1],["lookout",!0],["reinforce",!0],["matchstick",!0],["block",!0],["mute",!0],["brig",!0],["captain",!0],["investigate",!1],["mutiny",!1]],Re=Object(c.a)(Object(c.a)(Object(c.a)({},Pe),localStorage.MatchOptions?JSON.parse(localStorage.MatchOptions):{}),{},{tiles:Object(c.a)(Object(c.a)({},Pe.tiles),localStorage.MatchOptions?JSON.parse(localStorage.MatchOptions).tiles:{}),cards:Object(c.a)(Object(c.a)({},Pe.cards),localStorage.MatchOptions?JSON.parse(localStorage.MatchOptions).cards:{})});for(var Be in Re)"object"!=typeof Re[Be]||Array.isArray(Re[Be])||(Re[Be]=Object(c.a)(Object(c.a)({},localStorage.MatchOptions?JSON.parse(localStorage.MatchOptions)[Be]:{}),Re[Be]));function De(e){return Object(T.jsxs)(oe.a,{size:"small",children:[e.bigChange?Object(T.jsx)(S.a,{onClick:function(){return e.fn(-10)},disabled:e.disabled||e.state==e.min,children:"- -"}):null,Object(T.jsx)(S.a,{onClick:function(){return e.fn(-1)},disabled:e.disabled||e.state==e.min,children:"-"}),Object(T.jsx)(S.a,{disabled:!0,children:e.state}),Object(T.jsx)(S.a,{onClick:function(){return e.fn(1)},disabled:e.disabled||e.state==e.max,children:"+"}),e.bigChange?Object(T.jsx)(S.a,{onClick:function(){return e.fn(10)},disabled:e.disabled||e.state==e.max,children:"++"}):null]})}function We(e){var t=Ae();e.options&&(Re=e.options);var a=function(){e.editable&&e.started&&Ea.emit("updateOptions",Re)},n=d.a.useState(Re.public),r=Object(te.a)(n,2),s=r[0],i=r[1],o=d.a.useState(Re.players),l=Object(te.a)(o,2),h=l[0],j=l[1],b=d.a.useState(Re.startHP),u=Object(te.a)(b,2),m=u[0],p=u[1],x=function(e){Re.startHP+=e,Re.startHP<1&&(Re.startHP=1),Re.startHP>999&&(Re.startHP=999),Re.startHP>Re.maxHP&&v(Re.startHP-Re.maxHP),p(Re.startHP),a()},O=d.a.useState(Re.maxHP),f=Object(te.a)(O,2),g=f[0],y=f[1],v=function(e){Re.maxHP+=e,Re.maxHP<1&&(Re.maxHP=1),Re.maxHP>999&&(Re.maxHP=999),Re.startHP>Re.maxHP&&x(Re.maxHP-Re.startHP),y(Re.maxHP),a()},w=d.a.useState(Re.rockDamage),k=Object(te.a)(w,2),C=k[0],I=k[1],N=d.a.useState(Re.iceDamage),P=Object(te.a)(N,2),M=P[0],H=P[1],A=d.a.useState(Re.leaveDamage),z=Object(te.a)(A,2),E=z[0],R=z[1],B=d.a.useState(Re.treasureHeal),D=Object(te.a)(B,2),W=D[0],L=D[1],J=d.a.useState(Object(je.a)(Re.boardSize)),Y=Object(te.a)(J,2),U=Y[0],K=Y[1],G=function(e,t){Re.boardSize[t]=e,K(Object(je.a)(Re.boardSize)),We(),Re.startPos=[Math.round((Re.boardSize[0]-1)/2),Math.round((Re.boardSize[1]-1)/2)],Z(Object(je.a)(Re.startPos)),a()},_=d.a.useState(Object(je.a)(Re.startPos)),X=Object(te.a)(_,2),Q=X[0],Z=X[1],$=function(e,t){Re.startPos[t]=e,Z(Object(je.a)(Re.startPos)),a()},ee=d.a.useState(Re.startDir),ae=Object(te.a)(ee,2),re=ae[0],se=ae[1],ie=d.a.useState(Re.revealTiles),ce=Object(te.a)(ie,2),oe=ce[0],le=ce[1],de=d.a.useState(Re.tiles),ve=Object(te.a)(de,2),we=ve[0],ke=ve[1],Ie=d.a.useState(Re.treasuresNeeded),Ne=Object(te.a)(Ie,2),Te=Ne[0],Me=Ne[1],Be=function e(t){Re.treasuresNeeded+=t,Re.treasuresNeeded<1&&(Re.treasuresNeeded=1),Re.treasuresNeeded>Re.tiles.treasure&&(Re.treasuresNeeded=Re.tiles.treasure),Re.treasuresNeeded>Re.tiles.treasure&&e(Re.treasuresNeeded-Re.tiles.treasure),Me(Re.treasuresNeeded),a()},We=function(){var e=Object(c.a)(Object(c.a)({},we),Math.pow(Re.boardSize[0],Re.boardSize[1])>Object.values(Pe.tiles).reduce((function(e,t){return e+t}))?Pe.tiles:Object.fromEntries(Object.entries(Pe.tiles).map((function(e){return[e[0],ze.find((function(t){return t[0]==e[0]}))[1]?1:0]}))));ke(e),Re.tiles=Object(c.a)({},e)},Le=d.a.useState(Re.handSize),Fe=Object(te.a)(Le,2),Je=Fe[0],Ve=Fe[1],Ue=d.a.useState(Re.minPlayed),qe=Object(te.a)(Ue,2),Ke=qe[0],Ge=qe[1],_e=function(e){Re.minPlayed=e.target.value,Ge(e.target.value),a()},Xe=d.a.useState(Re.maxPlayed),Qe=Object(te.a)(Xe,2),Ze=Qe[0],$e=Qe[1],et=function(e){Re.maxPlayed=e.target.value,$e(e.target.value),Re.minPlayed>Re.maxPlayed&&_e({target:{value:e.target.value}}),a()},tt=d.a.useState(Re.topPlayed),at=Object(te.a)(tt,2),nt=at[0],rt=at[1],st=d.a.useState(Re.evilsSeeCards),it=Object(te.a)(st,2),ct=it[0],ot=it[1],lt=d.a.useState(Re.cards),dt=Object(te.a)(lt,2),ht=dt[0],jt=dt[1],bt=function(){if(Ee.filter((function(e){return e[1]})).map((function(e){return Re.cards[e[0]]})).reduce((function(e,t){return e+t}))<=Re.players*Re.handSize+Re.topPlayed){var e=Object(c.a)(Object(c.a)({},ht),Pe.cards);jt(e),Re.cards=Object(c.a)({},e)}},ut=d.a.useState(Re.votingAnonymity),mt=Object(te.a)(ut,2),pt=mt[0],xt=mt[1],Ot=d.a.useState(Re.mode),ft=Object(te.a)(Ot,2),gt=ft[0],yt=ft[1],vt=d.a.useState(Re.names),wt=Object(te.a)(vt,2),St=wt[0],kt=wt[1],Ct=function(){i(Re.public),j(Re.players),p(Re.startHP),y(Re.maxHP),I(Re.rockDamage),H(Re.iceDamage),R(Re.leaveDamage),L(Re.treasureHeal),K(Re.boardSize),Z(Re.startPos),se(Re.startDir),le(Re.revealTiles),ke(Object(c.a)(Object(c.a)({},we),Re.tiles)),Me(Re.treasuresNeeded),rt(Re.topPlayed),Ve(Re.handSize),Ge(Re.minPlayed),$e(Re.maxPlayed),jt(Object(c.a)(Object(c.a)({},ht),Re.cards)),xt(Re.votingAnonymity),yt(Re.mode),kt(Re.names)};d.a.useEffect((function(){return a(),window.addEventListener("matchOptionsChanged",Ct),function(){return window.removeEventListener("matchOptionsChanged",Ct)}}),[]);var It=Ee.filter((function(e){return e[1]})).map((function(e){return ht[e[0]]})).reduce((function(e,t){return e+t}));return Object(T.jsxs)("div",{children:[Object(T.jsx)(S.a,{color:e.editable?"primary":"default",size:"small",disabled:!e.editable,onClick:function(){Re=Object(c.a)(Object(c.a)({},Re),Pe),Ct(),a()},children:"Reset to defaults"}),Object(T.jsx)(S.a,{color:"secondary",size:"small",onClick:function(){!function(e){Ye.apply(this,arguments)}(e)},children:"Save/Load preset"}),Object(T.jsx)(S.a,{color:"primary",size:"small",onClick:function(){localStorage.MatchOptions=JSON.stringify(Re)},children:"Save these options"}),Object(T.jsx)(V.a,{style:{marginTop:16}}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Privacy"}),Object(T.jsx)(F.a,{component:"div",children:Object(T.jsxs)(ne.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(T.jsx)(ne.a,{item:!0,children:Object(T.jsx)(Ce.a,{})}),Object(T.jsx)(ne.a,{item:!0,children:Object(T.jsx)(ue.a,{color:"primary",checked:s,onChange:function(e){Re.public=!s,i(!s),a()},disabled:!e.editable})}),Object(T.jsx)(ne.a,{item:!0,children:Object(T.jsx)(Se.a,{})})]})}),e.started?Object(T.jsx)(S.a,{color:e.editable?"primary":"disabled",size:"small",onClick:function(){return Ea.emit("newRoomCode")},disabled:!e.editable,children:"New room code"}):null]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{style:{marginBottom:5},children:"Max players"}),Object(T.jsx)(De,{fn:function(e){Re.players+=e,Re.players<He[0]&&(Re.players=He[0]),Re.players>He[1]&&(Re.players=He[1]),j(Re.players),bt(),a()},min:He[0],max:He[1],state:h,disabled:e.started,bigChange:!0})]}),Object(T.jsx)(F.a,{children:"Changing this may also reset the amounts of each type of cards. This cannot be changed in the lobby."}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{style:{marginBottom:5},children:"Starting ship HP"}),Object(T.jsx)(De,{fn:x,min:1,max:999,state:m,disabled:!e.editable,bigChange:!0})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{style:{marginBottom:5},children:"Maximum ship HP"}),Object(T.jsx)(De,{fn:v,min:1,max:999,state:g,disabled:!e.editable,bigChange:!0})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"HP lost per rock hit"}),Object(T.jsx)(me.a,{value:C,onChange:function(e,t){t=Number(t),Re.rockDamage=t,I(t),a()},row:!0,children:[1,2,3,4].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"HP lost per iceberg hit"}),Object(T.jsx)(me.a,{value:M,onChange:function(e,t){t=Number(t),Re.iceDamage=t,H(t),a()},row:!0,children:[1,2,3,4].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"HP lost when ship tries to move out of the board"}),Object(T.jsx)(me.a,{value:E,onChange:function(e,t){t=Number(t),Re.leaveDamage=t,R(t),a()},row:!0,children:[0,1,2,3].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"HP healed per treasure found"}),Object(T.jsx)(me.a,{value:W,onChange:function(e,t){t=Number(t),Re.treasureHeal=t,L(t),a()},row:!0,children:[0,1,2,3].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))})]}),Object(T.jsx)(V.a,{}),Object(T.jsx)(q.a,{className:t.formControl,children:Object(T.jsx)(be.a,{children:"Board Size"})}),Object(T.jsx)("br",{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:U[1],onChange:function(e){return G(e.target.value,1)},displayEmpty:!0,className:t.smallSelect,disabled:!e.editable,children:[2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e},e)}))}),Object(T.jsx)(ge.a,{children:"Width"})]}),Object(T.jsx)("span",{style:{position:"relative",top:10,fontSize:35},children:"x"}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:U[0],onChange:function(e){return G(e.target.value,0)},displayEmpty:!0,className:t.smallSelect,disabled:!e.editable,children:[2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e},e)}))}),Object(T.jsx)(ge.a,{children:"Height"})]}),Object(T.jsxs)("span",{style:{position:"relative",top:14,fontSize:16},children:["= ",U[1]*U[0]," tiles"]}),Object(T.jsx)(F.a,{children:"Changing this may also reset the amounts of each type of tile and the ship's starting location."}),Object(T.jsx)(V.a,{}),Object(T.jsx)(q.a,{className:t.formControl,children:Object(T.jsx)(be.a,{children:"Ship starting location"})}),Object(T.jsx)("br",{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:Q[1],onChange:function(e){return $(e.target.value,1)},displayEmpty:!0,className:t.smallSelect,disabled:!e.editable,children:Array(U[1]).fill(null).map((function(e,t){return t})).map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e+1},e)}))}),Object(T.jsx)(ge.a,{children:"X"})]}),Object(T.jsx)("span",{style:{position:"relative",top:0,fontSize:35},children:", "}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:Q[0],onChange:function(e){return $(e.target.value,0)},displayEmpty:!0,className:t.smallSelect,disabled:!e.editable,children:Array(U[0]).fill(null).map((function(e,t){return t})).map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e+1},e)}))}),Object(T.jsx)(ge.a,{children:"Y"})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Ship starting direction"}),Object(T.jsxs)(Oe.a,{value:re,onChange:function(e){Re.startDir=e.target.value,se(e.target.value),a()},disabled:!e.editable,children:[Object(T.jsx)(fe.a,{value:0,children:"Random (Any)"}),Object(T.jsx)(fe.a,{value:1,children:"Random (Straight)"}),Object(T.jsx)(fe.a,{value:2,children:"Random (Diagonal)"}),Object(T.jsx)(fe.a,{value:3,children:"N"}),Object(T.jsx)(fe.a,{value:4,children:"NE"}),Object(T.jsx)(fe.a,{value:5,children:"E"}),Object(T.jsx)(fe.a,{value:6,children:"SE"}),Object(T.jsx)(fe.a,{value:7,children:"S"}),Object(T.jsx)(fe.a,{value:8,children:"SW"}),Object(T.jsx)(fe.a,{value:9,children:"W"}),Object(T.jsx)(fe.a,{value:10,children:"NW"})]}),Object(T.jsx)(ge.a,{children:{0:"Ship can start facing any direction",1:"Ship can start facing any of the following directions: N, E, S, W",2:"Ship can start facing any of the following directions: NE, SE, SW, NW",3:"\u2191",4:"\u2197",5:"\u2192",6:"\u2198",7:"\u2193",8:"\u2199",9:"\u2190",10:"\u2196"}[re]})]}),Object(T.jsx)(V.a,{}),Object(T.jsx)(pe.a,{control:Object(T.jsx)(ye.a,{color:"primary",checked:oe,onChange:function(e){Re.revealTiles=!oe,le(!oe),a()},disabled:!e.editable}),label:"Play with all tiles revealed?",labelPlacement:"start"}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Tiles"}),Object(T.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:ze.map((function(t){return Object(T.jsxs)("span",{style:{marginRight:5,textAlign:"center"},children:[Object(T.jsx)("img",{src:"/tiles/".concat(t[0],".png"),width:50}),Object(T.jsx)("br",{}),Object(T.jsx)(De,{fn:function(e){return function(e,t){Re.tiles[t]+=e,ke(Object(c.a)(Object(c.a)({},we),{},Object(he.a)({},t,Re.tiles[t]))),Re.treasuresNeeded>Re.tiles.treasure&&Be(Re.treasuresNeeded-Re.tiles.treasure),a()}(e,t[0])},min:t[1]?1:0,max:U[0]*U[1]-(Object.values(we).reduce((function(e,t){return e+t}))-we[t[0]])-1,state:we[t[0]],disabled:!e.editable})]})}))}),Object(T.jsxs)(F.a,{children:["There will be ",U[0]*U[1]-Object.values(we).reduce((function(e,t){return e+t}))," water tile(s)."]})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{style:{marginBottom:5},children:"Treasures needed for pirates to win"}),Object(T.jsx)(De,{fn:Be,min:1,max:we.treasure,state:Te,disabled:!e.editable,bigChange:!0})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Cards played from the top of the deck each turn"}),Object(T.jsx)(me.a,{value:nt,onChange:function(e,t){t=Number(t),Re.topPlayed=t,rt(t),bt(),a()},row:!0,children:[0,1,2,3].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))}),Object(T.jsx)(F.a,{children:"Changing this may also reset the amounts of each type of cards."})]}),Object(T.jsx)(V.a,{}),Object(T.jsx)(pe.a,{control:Object(T.jsx)(ye.a,{color:"primary",checked:ct,onChange:function(e){Re.evilsSeeCards=!ct,ot(!ct),a()},disabled:!e.editable}),label:"Tell sea monsters which cards were played from the top of the deck?",labelPlacement:"start"}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Cards drawn per hand"}),Object(T.jsx)(me.a,{value:Je,onChange:function(e,t){t=Number(t),Re.handSize=t,Ve(t),Re.minPlayed>t&&_e({target:{value:t}}),Re.maxPlayed>t&&et({target:{value:t}}),bt(),a()},row:!0,children:[2,3,4,5].map((function(t){return Object(T.jsx)(pe.a,{value:t,control:Object(T.jsx)(xe.a,{color:"primary",disabled:!e.editable}),label:t},t)}))}),Object(T.jsxs)(F.a,{children:["Changing this may also reset the amounts of each type of cards. A deck with at least ",h*Je+nt,' non-removable cards is required (also changes based on max players and "Cards played from the top of the deck each turn").']})]}),Object(T.jsx)(V.a,{}),Object(T.jsx)(q.a,{className:t.formControl,children:Object(T.jsx)(be.a,{children:"Minimum and maximum cards played per player per turn"})}),Object(T.jsx)("br",{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:Ke,onChange:_e,displayEmpty:!0,className:t.smallSselect,disabled:!e.editable,children:[0,1,2,3,4,5].filter((function(e){return e<=Je&&e<=Ze})).map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e},e)}))}),Object(T.jsx)(ge.a,{children:"Min"})]}),Object(T.jsx)("span",{style:{position:"relative",top:10,fontSize:35},children:"/"}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(Oe.a,{value:Ze,onChange:et,displayEmpty:!0,className:t.smallSselect,disabled:!e.editable,children:[1,2,3,4,5].filter((function(e){return e<=Je})).map((function(e){return Object(T.jsx)(fe.a,{value:e,children:e},e)}))}),Object(T.jsx)(ge.a,{children:"Max"})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Cards"}),Object(T.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Ee.map((function(t){return Object(T.jsxs)("span",{style:{marginRight:5,textAlign:"center"},children:[Object(T.jsx)("img",{src:"/cards/".concat(t[0],".png"),width:70}),Object(T.jsx)("br",{}),Object(T.jsx)(De,{fn:function(e){return function(e,t){Re.cards[t]+=e,jt(Object(c.a)(Object(c.a)({},ht),{},Object(he.a)({},t,Re.cards[t]))),a()}(e,t[0])},min:t[1]&&It<=h*Je+nt?ht[t[0]]:0,max:99,state:ht[t[0]],disabled:!e.editable})]})}))}),Object(T.jsxs)(F.a,{children:["There's ",Object.values(ht).reduce((function(e,t){return e+t}))," cards in this deck (",It," non-removable)."]})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Voting anonymity"}),Object(T.jsxs)(Oe.a,{value:pt,onChange:function(e){Re.votingAnonymity=e.target.value,xt(e.target.value),a()},disabled:!e.editable,children:[Object(T.jsx)(fe.a,{value:0,children:"Open"}),Object(T.jsx)(fe.a,{value:1,children:"Reveal"}),Object(T.jsx)(fe.a,{value:2,children:"Anonymous"})]}),Object(T.jsx)(ge.a,{children:{0:"Players' votes are always visible to everyone",1:"Players' votes are only visible after everyone has voted and they are no longer allowed to change their vote",2:"Players' votes are never shown"}[pt]})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Mode"}),Object(T.jsxs)(Oe.a,{value:gt,onChange:function(e){Re.mode=e.target.value,yt(e.target.value),a()},disabled:!e.editable,children:[Object(T.jsx)(fe.a,{value:0,children:"Sea Sight"}),Object(T.jsx)(fe.a,{value:1,children:"Sea Blindness"}),Object(T.jsx)(fe.a,{value:2,children:"Allied Traitor"}),Object(T.jsx)(fe.a,{value:3,children:"Open Seas"})]}),Object(T.jsx)(ge.a,{children:{0:"All Sea Monsters know their teammate (if they have one)",1:"Sea Monsters don't know who their teammate is",2:"Play with Allied Traitor rules (see rulebook)",3:"Pirates only! No Sea Monsters in this mode!"}[gt]})]}),Object(T.jsx)(V.a,{}),Object(T.jsxs)(q.a,{className:t.formControl,children:[Object(T.jsx)(be.a,{children:"Naming convention"}),Object(T.jsxs)(Oe.a,{value:St,onChange:function(e){Re.names=e.target.value,kt(e.target.value),a()},disabled:!e.editable,children:[Object(T.jsx)(fe.a,{value:0,children:"Normal"}),Object(T.jsx)(fe.a,{value:1,children:"Gifted"}),Object(T.jsx)(fe.a,{value:2,children:"Random"})]}),Object(T.jsx)(ge.a,{children:{0:"Players use their chosen name",1:"Players' chosen names are shuffled between them",2:"Each player gets a pirate name"}[St]})]})]})}var Le={state:{open:!1}};function Fe(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(Object(c.a)({},t.started?{title:"Match options",description:"Current options".concat(t.ingame?"":" (editable by the host)",":")}:{title:"Create Match",description:"Match options:",buttonText:"Create",buttonAction:function(){Le.handleClose(),Ea.emit("createMatch",Re)}}),Object(T.jsx)(We,Object(c.a)({},t)));case 2:(Le=e.sent).editable=t.editable;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){var t=d.a.useState(""),a=Object(te.a)(t,2),n=a[0],r=a[1],s="Copy the options code for your currently chosen match options.",i=d.a.useState(s),o=Object(te.a)(i,2),l=o[0],h=o[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(ae.a,{label:"Options code",defaultValue:"",value:n,onChange:function(e){return r(e.target.value)},helperText:"Paste your options code here and click Load to load it",variant:"outlined",disabled:!e.editable}),Object(T.jsx)(S.a,{color:e.editable?"primary":"default",disabled:!e.editable,onClick:function(){try{Re=Object(c.a)(Object(c.a)({},Re),JSON.parse(atob(n))),Fe(e)}catch(t){alert(t)}},children:"Load"}),Object(T.jsx)(V.a,{}),Object(T.jsx)(ve.a,{title:l,children:Object(T.jsx)(X.a,{onClick:function(){Me()(btoa(JSON.stringify(Re))),h("Copied to clipboard!"),setTimeout((function(){h(s)}),3e3)},children:Object(T.jsx)(Ne.a,{})})})]})}function Ye(){return(Ye=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({title:"Preset loader/saver",buttonText:"Match options",buttonAction:function(){return Fe(t)}},Object(T.jsx)(Ve,Object(c.a)({},t)));case 2:Le=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue={showMatchOptions:Fe,changeOptions:function(e){Re=e,window.dispatchEvent(new Event("matchOptionsChanged"))},hostChanged:function(e){Le.state.open&&Le.editable!=e&&Fe({editable:e,started:!0})}},qe=a(139),Ke=a.n(qe),Ge=a(150),_e=a(288),Xe=a(280),Qe=a(287),Ze=Object(Y.a)((function(e){return{card:{width:125,marginRight:5}}}));var $e={Cards:function(){var e=Ze();return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Cards"}),Object(T.jsx)(F.a,{variant:"h5",children:"Movement"}),Object(T.jsx)("img",{src:"/cards/n1.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/w2.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/se3.png",className:e.card}),Object(T.jsx)(F.a,{children:"These cards allow you to move the ship a specified amount in a specified direction. The direction is the letter and border colour, and the amount is the number displayed."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Direction movement cards"}),Object(T.jsx)("img",{src:"/cards/turnl2.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/turnr4.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/forward2.png",className:e.card}),Object(T.jsx)(F.a,{children:"Turning cards turn the ship a specified amount, and forward cards move the ship in whatever direction the ship is facing. The ship is a lot harder to control using these."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Special movement cards"}),Object(T.jsx)(F.a,{variant:"h6",children:"Relocate"}),Object(T.jsx)("img",{src:"/cards/relocate.png",className:e.card}),Object(T.jsx)(F.a,{children:"The ship moves back to where it started this match."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Persist"}),Object(T.jsx)("img",{src:"/cards/persist.png",className:e.card}),Object(T.jsx)(F.a,{children:"The action of the last (not including turning or special) movement card to be played is performed again. If no other movement cards have been played this turn, the last movement card from previous turns is played."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Chaos"}),Object(T.jsx)("img",{src:"/cards/chaos.png",className:e.card}),Object(T.jsx)(F.a,{children:"The ship moves to a random location without turning."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Bravery"}),Object(T.jsx)("img",{src:"/cards/bravery.png",className:e.card}),Object(T.jsx)(F.a,{children:"The ship keeps going forward in the direction it's facing until it gets to the edge of the board, then it will take damage for trying to move out of the board."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Compass"}),Object(T.jsx)("img",{src:"/cards/compass0.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/compass1.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/compass3.png",className:e.card}),Object(T.jsx)(F.a,{children:"When a compass card is played, all tiles that the card specifies (with grey squares) are flipped over to be seen. Tiles with effects (e.g. treasure, rock) don't do anything when revealed - the ship must move over them for that to happen."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Healing cards"}),Object(T.jsx)(F.a,{variant:"h6",children:"Hammer card & Nail card"}),Object(T.jsx)("img",{src:"/cards/hammer.png",className:e.card}),Object(T.jsx)("img",{src:"/cards/nail.png",className:e.card}),Object(T.jsx)(F.a,{children:"If both a hammer card and a nail card are played in the same turn, the ship is healed for 1HP. The ship cannot be healed twice in one turn this way."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Hammer & nail"}),Object(T.jsx)("img",{src:"/cards/hammernail.png",className:e.card}),Object(T.jsx)(F.a,{children:"The ship is immediately healed for 1HP. This card is permanently discarded after being played, whether it heals the ship or not (i.e. the ship's HP is full and cannot be healed further)."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Reinforce"}),Object(T.jsx)("img",{src:"/cards/reinforce.png",className:e.card}),Object(T.jsx)(F.a,{children:"After this card is played, the ship cannot take any damage until this turn has ended."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Lookout"}),Object(T.jsx)("img",{src:"/cards/lookout.png",className:e.card}),Object(T.jsx)(F.a,{children:"After this card is played, if the ship would take damage during the same turn, that damage is blocked, then the effect of this card ends."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Detriment Cards"}),Object(T.jsx)(F.a,{variant:"h6",children:"Matchstick"}),Object(T.jsx)("img",{src:"/cards/matchstick.png",className:e.card}),Object(T.jsx)(F.a,{children:"The ship takes 1 damage upon this card being played."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Block"}),Object(T.jsx)("img",{src:"/cards/block.png",className:e.card}),Object(T.jsx)(F.a,{children:"The card played after this card (same turn only) will have no effect."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Mute"}),Object(T.jsx)("img",{src:"/cards/mute.png",className:e.card}),Object(T.jsx)(F.a,{children:"When this card is played, no one can talk during that turn's discussion or voting phase."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Voting"}),Object(T.jsx)(F.a,{children:"Voting cards call for an action to be voted on. If multiple voting cards are played in the same turn, only one is used. The card used is the one lowest on the following list."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"The Brig"}),Object(T.jsx)("img",{src:"/cards/brig.png",className:e.card}),Object(T.jsx)(F.a,{children:"If someone gets enough votes, they will not be able to play cards for the next two turns. They will still be able to talk and vote."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Captain"}),Object(T.jsx)("img",{src:"/cards/captain.png",className:e.card}),Object(T.jsx)(F.a,{children:"If someone gets enough votes, only they will play cards next turn."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Investigate"}),Object(T.jsx)("img",{src:"/cards/investigate.png",className:e.card}),Object(T.jsx)(F.a,{children:"If someone gets enough votes, they can choose another player to find out the team (pirate or sea monster) of. This card is permanently discarded if a player is successfully investigated."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Mutiny"}),Object(T.jsx)("img",{src:"/cards/mutiny.png",className:e.card}),Object(T.jsx)(F.a,{children:"If someone gets enough votes, they're forced off the ship and cannot play cards, talk, vote, or receive votes for the rest of the game. If this player was on the sea monsters' team, the pirates win. This card is permanently discarded if a player is successfully mutinied."})]})},Premise:function(){var e="ScMzIvxBSi4";return Object(T.jsxs)("div",{children:[Object(T.jsx)("img",{src:"/icon.png",style:{maxWidth:"100%",width:300}}),Object(T.jsx)(F.a,{children:"Clueless Captains is a game about going on a pirate adventure to try and find the hidden treasures. You can play with between 2 and 8 people but for the best experience we reccommend anything between 3 and 5."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"The gist of what's going on"}),Object(T.jsx)(F.a,{children:"In Clueless Captains, all players simultaneously control a ship on a grid. You're trying to find all the treasure in this area, but some of your crew may be attempting to sabotage this mission by sinking your ship. The ship starts with a set amount of HP which is lost when it takes damage from rocks or other sources. HP can be regained from finding treasure (if this option is enabled). When the ship's HP becomes 0, it sinks."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Video"}),Object(T.jsxs)(F.a,{children:["Here's ",Object(T.jsx)(J.a,{href:"https://youtu.be/".concat(e),target:"_blank",rel:"noopener",children:"a YouTube video"})," showing the game in action. Most of the rules are explained here, but you won't know every nook and cranny of the game. This is enough knowledge, though, as you can come back and read the rules of the game at any point during a match."]}),Object(T.jsx)("iframe",{style:{width:"100%",height:"250px"},src:"https://www.youtube.com/embed/".concat(e),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(T.jsx)(F.a,{variant:"h6",children:"Timestamps"}),Object(T.jsxs)(F.a,{children:["The timestamp of each important point in the video above.",Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:"0:00 - Intro"}),Object(T.jsx)("li",{children:"0:01 - Roles"}),Object(T.jsx)("li",{children:"1:00 - Selection phase & Cards"}),Object(T.jsx)("li",{children:"1:01 - Playing phase & Tiles"}),Object(T.jsx)("li",{children:"1:02 - Discussion phase"}),Object(T.jsx)("li",{children:"1:03 - Voting phase"})]})]})]})},Roles:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Roles"}),Object(T.jsx)(F.a,{children:"All crewmates are given one of two roles at the start of the game. This role decides their win condition."}),Object(T.jsx)(V.a,{}),Object(T.jsx)(F.a,{variant:"h5",children:"Pirate"}),Object(T.jsx)("img",{src:"/roles/pirate.png",width:100}),Object(T.jsx)(F.a,{children:"The pirates discovered an area with tons of (seemingly) abandoned booty just waiting to be plundered! They're here, and they won't stop until they take it all (or die trying)! Pirates should almost always be telling the truth to their crewmates."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{children:Object(T.jsx)("u",{children:"Pirates win if all the treasures are found or if a Sea monster is killed."})}),Object(T.jsx)(V.a,{}),Object(T.jsx)(F.a,{variant:"h5",children:"Sea monster"}),Object(T.jsx)("img",{src:"/roles/seamonster.png",width:100}),Object(T.jsxs)(F.a,{children:["The sea monsters discovered filthy pirates heading into their territory, and pirates could only be there for one reason - treasure. This treasure means everything to them, so they've disguised themselves as pirates and infiltrated the ship. They'll do anything they can to foil the pirates' foolish plan.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Sea monsters are heavily outnumbered by Pirates, and may lose (by getting killed) if their identity is revealed, so they'll have to blend in with the pirates by lying about which cards they play."]}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{children:Object(T.jsx)("u",{children:"Sea monsters win if the ship sinks."})}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{children:"In 1-2 player games, there are no sea monsters. In 3-5 player games, there is 1 sea monster. In 6-8 player games, there are 2 sea monsters."})]})},Mode2:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Allied Traitor Mode"}),Object(T.jsx)(F.a,{children:'Allied Traitor is an alternate gamemode which is available with 6-8 players. It adds some new roles and changes the way the game is played. If the "Play Allied Traitor when available" match option is enabled and there aren\'t enough players, the Sea Blindness mode will be used instead.'}),Object(T.jsx)(V.a,{}),Object(T.jsx)(F.a,{variant:"h5",children:"Pirate Roles"}),Object(T.jsx)(F.a,{variant:"h6",children:"Pirate"}),Object(T.jsx)("img",{src:"/roles/pirate.png",width:100}),Object(T.jsx)(F.a,{children:"same as the normal pirate lol"}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Biologist"}),Object(T.jsx)("img",{src:"/roles/biologist.png",width:100}),Object(T.jsx)(F.a,{children:"There is 1 biologist in a game. This royal biologist wins with the pirates. The biologist knows the role of every player, but the pirates hold a grudge against the royals, so the pirates can't find out who the biologist is, and neither can the Sea Master, because they will out the biologist to the pirates. Therefore, the biologist must use the information they have to help them win the game, while laying low about their identity."}),Object(T.jsx)(V.a,{}),Object(T.jsx)(F.a,{variant:"h5",children:"Sea Monster Roles"}),Object(T.jsx)(F.a,{variant:"h6",children:"Sea Master"}),Object(T.jsx)("img",{src:"/roles/seamaster.png",width:100}),Object(T.jsx)(F.a,{children:"There is 1 Sea Master in a game. The Sea Master always knows who the Sea Servant is. After the pirates win (if a sea monster is mutinied or all treasures are found), the sea monsters still have a chance! The Sea Master chooses a player who they think was the biologist. If they're correct, the Sea Monsters win instead of the pirates."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Sea Servant"}),Object(T.jsx)("img",{src:"/roles/seaservant.png",width:100}),Object(T.jsx)(F.a,{children:"There is 1 Sea Servant in a game. They're forgetful, and have no idea who the Sea Master disguised themself as - the Sea Servant does not know who the Sea Master is."}),Object(T.jsx)("br",{})]})},SpecialCases:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Special cases"}),Object(T.jsx)(F.a,{variant:"h6",children:"Ship tries to move out of the board"}),Object(T.jsx)(F.a,{children:"The ship loses a configurable amount of HP (default 1), and stays where it is."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Captain + Brig interactions"}),Object(T.jsxs)(F.a,{children:["If a captain is voted for, everyone else who is in the brig will have their jail time extended by one turn to compensate.",Object(T.jsx)("br",{}),"If a player in the brig is voted as captain, they will be freed from the brig and will be able to play cards until jailed again."]}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h6",children:"Finding all treasure and sinking on the same turn"}),Object(T.jsx)(F.a,{children:"In this game it is impossible to draw. If you find the last treasure and sink on the same turn, whichever one happened first dictates the outcome, example:"}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{children:Object(T.jsxs)("i",{children:["Card one moves you on to the last treasure tile,",Object(T.jsx)("br",{}),"Card two bumps you into a rock, sinking the ship.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"In this case the pirates would win as they got the treasure before sinking."]})})]})},Tiles:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Tiles"}),Object(T.jsx)(F.a,{children:"The game board is a grid made up of tiles. Here is what each tile does."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Undiscovered"}),Object(T.jsx)("img",{src:"/tiles/unknown.png",width:80}),Object(T.jsx)(F.a,{children:"This tile could be anything! Reveal what's hiding underneath by moving over it with the ship or using a compass card next to it. Every tile except the ship's starting tile begins covered by an Undiscovered tile (unless you're playing with the \"Play with all tiles revealed\" option, then no tiles are undiscovered)."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Water"}),Object(T.jsx)("img",{src:"/tiles/water.png",width:80}),Object(T.jsx)(F.a,{children:"These tiles do nothing."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Treasure"}),Object(T.jsx)("img",{src:"/tiles/treasure.png",width:80}),Object(T.jsx)(F.a,{children:"Move onto a treasure tile to collect it, turning the tile into a water tile. If the pirates collect all of these, they win. You can change the match options so that these restore your HP upon collections."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Rock"}),Object(T.jsx)("img",{src:"/tiles/rock.png",width:80}),Object(T.jsx)(F.a,{children:"Rock tiles deal 1 damage (configurable amount) to the ship each time you cross over them."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Iceberg"}),Object(T.jsx)("img",{src:"/tiles/iceberg.png",width:80}),Object(T.jsx)(F.a,{children:"Same effect as the rock tile, except it breaks and turns into a water tile upon being touched by the ship (after dealing damage, of course)."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Waves"}),Object(T.jsx)("img",{src:"/tiles/waves.png",width:80}),Object(T.jsx)(F.a,{children:"Wave tiles push the ship 1 extra tile in the direction it's facing."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Storm"}),Object(T.jsx)("img",{src:"/tiles/storm.png",width:80}),Object(T.jsx)(F.a,{children:"Storm tiles turn the ship to face a random direction then teleport it to a random tile."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Booze"}),Object(T.jsx)("img",{src:"/tiles/alcohol.png",width:80}),Object(T.jsx)(F.a,{children:"Booze tiles turn the ship to face a random direction then push it forward 1 tile in that direction."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Whirlpools"}),Object(T.jsx)("img",{src:"/tiles/whirlpoolleft.png",width:80}),Object(T.jsx)("img",{src:"/tiles/whirlpoolright.png",width:80}),Object(T.jsx)(F.a,{children:"Upon touching a whirlpool tile, the ship turns 90\xb0 the way the whirlpool is facing."})]})},Turn:function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:"Turn"}),Object(T.jsx)(F.a,{variant:"h5",children:"Selection phase"}),Object(T.jsx)(F.a,{children:"First, the cards in the draw pile are counted, and if there aren't enough to deal everyone a hand, the discard pile is shuffled in with the draw pile. Then, 3 cards are dealt to each player. They each select one to play. Everyone's selected cards are then collected and shuffled. Talking is not allowed during the selection phase."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Playing phase"}),Object(T.jsx)(F.a,{children:"In the playing phase, the selected cards (which have been shuffled, so no one knows who played which) are revealed one by one, performing the action on the played card each time. Talking is not allowed during the playing phase."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Discussion phase"}),Object(T.jsx)(F.a,{children:"During the discussion phase, players may claim which card they played and which they had in their hand as well as discuss anything else important. Ask anyone any question you want, but the answer may not always be the truth. When ready to move on to the next turn, players can click ready. Everyone needs to click ready for the turn to end. If a voting card was played in the playing phase, this phase is replaced with the voting phase."}),Object(T.jsx)("br",{}),Object(T.jsx)(F.a,{variant:"h5",children:"Voting phase"}),Object(T.jsx)(F.a,{children:"This phase only happens if a voting card was played in the playing phase. Players may discuss the same as they would during the discussion, but instead of readying up, they must vote for the action on the card. Votes are not revealed until everyone has made their vote. There must be at least [number of alive players - number of sea monsters] of identical votes, or nothing will happen, and the next phase starts as normal. You may vote for yourself."})]})}};function et(e){var t=e.children,a=e.value,n=e.index,r=Object(Ge.a)(e,["children","value","index"]);return Object(T.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},r),{},{children:a===n&&Object(T.jsx)(Qe.a,{p:3,children:t})}))}var tt=Object(Y.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabs:{minWidth:90,width:90,borderRight:"1px solid ".concat(e.palette.divider)},tab:{minWidth:"unset"},tabPanel:{overflowY:"scroll"}}}));var at=function(){var e=tt(),t=d.a.useState(0),a=Object(te.a)(t,2),n=a[0],r=a[1];return Object(T.jsxs)("div",{className:e.root,children:[Object(T.jsxs)(_e.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,t){r(t)},"aria-label":"Vertical tabs example",classes:{root:e.tabs},children:[Object(T.jsx)(Xe.a,{className:e.tab,label:"Premise"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Roles"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Allied Traitor"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Tiles"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Turn"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Cards"}),Object(T.jsx)(Xe.a,{className:e.tab,label:"Special cases"})]}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:0,children:Object(T.jsx)($e.Premise,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:1,children:Object(T.jsx)($e.Roles,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:2,children:Object(T.jsx)($e.Mode2,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:3,children:Object(T.jsx)($e.Tiles,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:4,children:Object(T.jsx)($e.Turn,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:5,children:Object(T.jsx)($e.Cards,{})}),Object(T.jsx)(et,{classes:e.tabPanel,value:n,index:6,children:Object(T.jsx)($e.SpecialCases,{})})]})},nt=Object(Y.a)((function(e){return{centre:{padding:0}}}));function rt(){var e=nt(),t=d.a.useState(!1),a=Object(te.a)(t,2),n=a[0],r=a[1],s=function(){return r(!1)};return st.openRules=function(){return r(!0)},Object(T.jsxs)(k.a,{open:n,onClose:s,disablePortal:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(P.a,{id:"alert-dialog-title",children:"Rules"}),Object(T.jsx)(I.a,{classes:{root:e.centre},dividers:!0,children:Object(T.jsx)(at,{})}),Object(T.jsx)(C.a,{children:Object(T.jsx)(S.a,{onClick:s,color:"secondary",children:"Close"})})]})}var st={};j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(rt,{})]}),document.getElementById("rules"));var it=st,ct=Ke.a;function ot(){it.openRules()}var lt={ShowRulesIcon:ct,ShowRulesButton:function(){return Object(T.jsx)(X.a,{onClick:ot,children:Object(T.jsx)(ct,{})})},showRules:ot},dt=Object(Y.a)({logoImage:{display:"block",textAlign:"center",margin:"auto",maxWidth:350},controls:{textAlign:"center",border:"1px solid #0000001f",borderRadius:10}});var ht=function(){var e=dt();return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{className:e.title,variant:"h3",gutterBottom:!0,children:Object(T.jsx)("img",{className:e.logoImage,src:"/iconanimated.png",alt:"Clueless Captains"})}),Object(T.jsxs)(F.a,{variant:"body1",gutterBottom:!0,children:["Embark on a pirate adventure with your friends. ",Object(T.jsxs)(J.a,{onClick:lt.showRules,children:["Read the rules ",Object(T.jsx)(lt.ShowRulesIcon,{fontSize:"inherit"})]})]}),Object(T.jsxs)("div",{className:e.controls,children:[Object(T.jsx)(ce,{}),Object(T.jsx)(de,{selected:localStorage.cccolor?Number(localStorage.cccolor):(localStorage.cccolor=Math.floor(Math.random()*le.length),localStorage.cccolor),matchInfo:null}),Object(T.jsx)(V.a,{}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{size:"large",color:"primary",onClick:function(){return Ea.emit("findMatch")},children:"Find Match"}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{size:"small",color:"secondary",onClick:function(){return Ue.showMatchOptions({editable:!0,started:!1})},children:"Create Match"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(ee,{})]})]})},jt=a(281),bt=a(282),ut=a(283),mt=a(259),pt=a(284),xt=a(285),Ot=a(286),ft=a(143),gt=a.n(ft),yt=a(140),vt=a.n(yt),wt=a(142),St=a.n(wt),kt=a(141),Ct=a.n(kt),It=Object(Y.a)({root:{textAlign:"center"},privacyIcon:{marginRight:10},table:{width:400,margin:"auto"},head:{backgroundColor:"#ececec"},tableCell:{textAlign:"center"},you:{textDecoration:"underline"}});var Nt=function(e){for(var t=It(),a=[],n=Ea.id.startsWith(e.matchInfo.host),r=function(r){var s="",i=!1;r in e.matchInfo.players&&(s=e.matchInfo.players[r].name,i=Ea.id.startsWith(e.matchInfo.players[r].id)),a.push(Object(T.jsx)(jt.a,{children:Object(T.jsxs)(bt.a,{className:t.tableCell,children:[r in e.matchInfo.players&&e.matchInfo.host==e.matchInfo.players[r].id?Object(T.jsx)(ve.a,{title:"This player is the host. They have the ability to start the game.",children:Object(T.jsx)(vt.a,{fontSize:"inherit"})}):null,Object(T.jsx)("span",{style:r in e.matchInfo.players?{color:le[e.matchInfo.players[r].num]}:null,children:i?Object(T.jsx)("span",{className:t.you,children:s}):s}),i?Object(T.jsx)(ve.a,{title:"Customise",children:Object(T.jsx)(X.a,{size:"small",onClick:function(){return E({title:"Customisation"},Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)(ce,{}),Object(T.jsx)(de,{selected:e.matchInfo.players[r].num,matchInfo:e.matchInfo})]}))},children:Object(T.jsx)(Ct.a,{fontSize:"inherit"})})}):null,r in e.matchInfo.players&&n&&!e.matchInfo.starting&&!i?Object(T.jsxs)("span",{children:[Object(T.jsx)(ve.a,{title:"Kick - remove this player from this lobby.",children:Object(T.jsx)(X.a,{size:"small",onClick:function(){return Ea.emit("kick",e.matchInfo.players[r].id)},children:Object(T.jsx)(W.a,{fontSize:"inherit"})})}),e.matchInfo.players[r].bot?null:Object(T.jsx)(ve.a,{title:"Promote - transfer your host privileges to this player.",onClick:function(){return Ea.emit("promote",e.matchInfo.players[r].id)},children:Object(T.jsx)(X.a,{size:"small",children:Object(T.jsx)(St.a,{fontSize:"inherit"})})})]}):null]})},r))},s=0;s<e.matchInfo.options.players;s++)r(s);d.a.useEffect((function(){Ue.hostChanged(n)})),e.matchInfo.starting&&new Audio("/countdown/".concat(e.matchInfo.startTimer,".mp3")).play();var i="Copy a link others can use to join this lobby to your clipboard.",c=d.a.useState(i),o=Object(te.a)(c,2),l=o[0],h=o[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(X.a,{onClick:function(){return window.location.reload()},children:Object(T.jsx)(gt.a,{})}),Object(T.jsx)(lt.ShowRulesButton,{}),Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(F.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Room code"}),Object(T.jsxs)(F.a,{variant:"h3",gutterBottom:!0,children:[Object(T.jsx)("span",{className:t.privacyIcon,children:e.matchInfo.options.public?Object(T.jsx)(ve.a,{title:"This is a public match. Anyone can join this match from the 'Find Match' button on the homepage.",children:Object(T.jsx)(Se.a,{})}):Object(T.jsx)(ve.a,{title:"This is a private match. Only people with the room code can join.",children:Object(T.jsx)(Ce.a,{})})}),e.matchInfo.code,Object(T.jsx)(ve.a,{title:l,children:Object(T.jsx)(X.a,{onClick:function(){Me()("".concat(window.location.protocol,"//").concat(window.location.host,"?").concat(e.matchInfo.code)),h("Copied to clipboard!"),setTimeout((function(){h(i)}),3e3)},children:Object(T.jsx)(Ne.a,{})})})]}),Object(T.jsx)(S.a,{color:"secondary",onClick:function(){return Ue.showMatchOptions({editable:n,started:!0})},children:"Match options"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),e.matchInfo.starting?Object(T.jsxs)(F.a,{variant:"h4",children:["Starting in ",e.matchInfo.startTimer,"..."]}):Object(T.jsx)(ve.a,{title:n?"Begin a timer to start the match. No more players will be able to join.":"Only the host can start the match.",children:Object(T.jsx)("span",{children:Object(T.jsx)(S.a,{color:n?"primary":"default",size:"large",onClick:function(){return Ea.emit("startMatch")},disabled:!n,children:"Start Match"})})}),Object(T.jsx)(ut.a,{component:mt.a,children:Object(T.jsxs)(pt.a,{children:[Object(T.jsx)(xt.a,{children:Object(T.jsx)(jt.a,{className:t.head,children:Object(T.jsxs)(bt.a,{className:t.tableCell,children:["Players: ",e.matchInfo.players.length,"/",e.matchInfo.options.players]})})}),Object(T.jsx)(Ot.a,{children:a})]})})]})]})};Object(Y.a)((function(e){return{}}));var Pt=function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h3",children:"Who will you rejoin the game as?"}),e.choices.map((function(t){return Object(T.jsx)("button",{style:{background:le[t.num]},onClick:function(){return Ea.emit("comeback",t.num,e.code)},children:t.name})}))]})},Tt=a(144),Mt=a(104),Ht={cards:"Card",roles:"Role",tiles:"Tile"},At=Object.keys(Ht);function zt(e){var t=e.split(" ");return Object(T.jsx)("span",{children:t.map((function(e,t){var a,n=0==t?"":" ",r=e.replace(/\W/g,"").toLowerCase(),s=!1,i=Object(Tt.a)(At);try{for(i.s();!(a=i.n()).done;){var c=a.value;Mt[c].hasOwnProperty(r)&&(s=c)}}catch(o){i.e(o)}finally{i.f()}return s?Object(T.jsx)(ve.a,{enterTouchDelay:0,title:Object(T.jsxs)("span",{children:[Object(T.jsx)("h4",{style:{textAlign:"center"},children:Ht[s]}),Object(T.jsx)("img",{src:"/".concat(s,"/").concat(r,".").concat(Mt[s][r]),width:80,style:{borderRadius:4}})]}),PopperProps:{style:{zIndex:1e5}},children:Object(T.jsxs)("span",{children:[n,Object(T.jsx)(J.a,{style:{color:"#03a1fc"},children:e})]})}):"".concat(n).concat(e)}))})}var Et=a(145),Rt=a.n(Et),Bt=a(106),Dt=a.n(Bt),Wt=a(107),Lt=a.n(Wt),Ft=a(105),Jt=a.n(Ft),Vt=Object(Y.a)({root:{background:"#f7f0d5",borderTop:"1px solid #0000001f"},cards:{height:"100%",overflowX:"scroll",textAlign:"center",whiteSpace:"nowrap"},card:{height:"18vh"},playingStatusContainer:{textAlign:"center"},playingStatus:{borderRadius:5,paddingRight:5,display:"inline-block",color:"white","& span":{fontSize:32,paddingLeft:10,paddingRight:10,borderRight:"1px solid #0000001f",marginRight:5}},playingCards:{display:"flex",justifyContent:"space-between","& span":{textAlign:"center","& img":{height:"24vh"}}},chat:{padding:"10px 15px",overflowY:"scroll",maxHeight:"inherit",width:"100%",wordBreak:"break-word"},voteArea:{width:"15em",overflowY:"scroll","& div":{borderBottom:"1px solid #0000001f",display:"flex",justifyContent:"space-between",alignItems:"center",color:"white",height:"40px",fontSize:"20px",cursor:"pointer"}},textField:{width:"100%"}});var Yt=function(e){var t=Vt(),a=d.a.createRef(),n=d.a.createRef(),r=d.a.useState("discuss"),s=Object(te.a)(r,2),i=s[0],c=s[1],o=d.a.useState([]),l=Object(te.a)(o,2),h=l[0],j=l[1],b=d.a.useState(Array(e.matchInfo.options.handSize).fill(!1)),u=Object(te.a)(b,2),m=u[0],p=u[1],x=d.a.useState([]),O=Object(te.a)(x,2),f=O[0],g=O[1],y=d.a.useState("blank"),v=Object(te.a)(y,2),w=v[0],k=v[1],C=d.a.useState(1),I=Object(te.a)(C,2),N=I[0],P=I[1],M=d.a.useState(null),H=Object(te.a)(M,2),A=H[0],z=H[1],R=d.a.useState(""),B=Object(te.a)(R,2),D=B[0],W=B[1],L=d.a.useState(!1),J=Object(te.a)(L,2),V=J[0],Y=J[1],U=d.a.useState([]),Q=Object(te.a)(U,2),Z=Q[0],$=Q[1],ee=d.a.useState(""),ae=Object(te.a)(ee,2),ne=ae[0],re=ae[1],se=function(){Ea.emit("msg",ne),re("")},ie=d.a.useState(Array(e.matchInfo.players.length).fill(null)),ce=Object(te.a)(ie,2),oe=ce[0],de=ce[1],he=Array(e.matchInfo.players.length).fill(null);return d.a.useEffect((function(){return Ea.on("wait",(function(e){g(e),c("wait")})),Ea.on("cards",(function(t){j(t),p(Array(e.matchInfo.options.handSize).fill(!1)),c("select")})),Ea.on("play",(function(e,t){k(e),P(t),c("play")})),Ea.on("currentVote",(function(e){z(e)})),Ea.on("discuss",(function(e){window.chatStart=!0,c("chat"),z(e)})),Ea.on("vote",(function(e,t){he[e]=t,de(JSON.parse(JSON.stringify(he)))})),Ea.on("choosePlayer",(function(e){W(e),c("choosePlayer")})),Ea.on("die",(function(t){e.matchInfo.players.find((function(e){return e.num==t})).dead=!0,c("chat")})),Ea.on("mute",(function(t){re(""),Y(t),e.matchInfo.players.find((function(e){return e.dead&&Ea.id.startsWith(e.id)}))?Y(!0):t&&E({title:"Muted!",description:"Someone played a mute card, so no one can talk this turn."})})),Ea.on("message",(function(e){console.log(e),$((function(t){return[].concat(Object(je.a)(t),[e])}))})),function(){Ea.off("wait"),Ea.off("cards"),Ea.off("play"),Ea.off("currentVote"),Ea.off("discuss"),Ea.off("vote"),Ea.off("choosePlayer"),Ea.off("die"),Ea.off("message"),Ea.off("muted")}}),[]),d.a.useEffect((function(){if("chat"==i)if(window.chatStart)window.chatStart=!1,n.current.scrollIntoView();else{var e=a.current.children[a.current.children.length-1];a.current.scrollHeight-a.current.clientHeight-a.current.clientTop-a.current.scrollTop<e.clientHeight+35&&n.current.scrollIntoView()}})),Object(T.jsx)("div",{class:t.root,style:{height:e.height,maxHeight:"calc(30vh - 1px)"},children:function(){switch(i){case"select":var r=m.filter((function(e){return e})).length,s=r<e.matchInfo.options.minPlayed||r>e.matchInfo.options.maxPlayed;return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{class:t.cards,children:h.map((function(e,a){return Object(T.jsx)(ve.a,{title:Object(T.jsx)("img",{src:"/cards/".concat(e,".png"),width:200}),children:Object(T.jsx)(S.a,{onClick:function(){return p(m.map((function(e,t){return a==t?!e:e})))},children:Object(T.jsx)("img",{class:t.card,src:"/cards/".concat(e,".png"),style:{opacity:m[a]?1:.5}})})})}))}),Object(T.jsx)("div",{style:{textAlign:"center"},children:Object(T.jsxs)(S.a,{color:"primary",style:{opacity:s?.5:1},disabled:s,onClick:function(){return Ea.emit("play",m.map((function(e,t){return[t,e]})).filter((function(e){return e[1]})).map((function(e){return e[0]})))},children:["Play ",r,"/",e.matchInfo.options.maxPlayed]})})]});case"wait":return Object(T.jsx)("div",{className:t.playingStatusContainer,children:f.map((function(a){var n=e.matchInfo.players.find((function(e){return e.num==a.n}));return Object(T.jsxs)("span",{className:t.playingStatus,style:{background:le[a.n]},children:[Object(T.jsx)("span",{style:{textDecoration:"".concat(n.dead?"line-through":"").concat(Ea.id.startsWith(n.id)?" underline":"")},children:n.name}),[Object(T.jsx)(Jt.a,{}),Object(T.jsx)(Dt.a,{}),Object(T.jsx)(Lt.a,{})][a.s]]})}))});case"play":return Object(T.jsxs)("div",{className:t.playingCards,children:[Object(T.jsxs)("span",{children:[Object(T.jsx)("img",{src:"/cards/".concat(0==N?"blank":"back",".png")}),Object(T.jsx)("br",{}),"To play: ",N]}),Object(T.jsxs)("span",{children:[Object(T.jsx)("img",{src:"/cards/".concat(w,".png")}),Object(T.jsx)("br",{}),"Playing"]}),Object(T.jsxs)("span",{children:[Object(T.jsx)("img",{src:"/cards/".concat(null==A?"blank":A,".png")}),Object(T.jsx)("br",{}),"Vote"]})]});case"chat":return Object(T.jsxs)("div",{style:{maxHeight:"inherit",display:"flex"},children:[Object(T.jsxs)("div",{ref:a,className:t.chat,children:[Z.map((function(t){if(t.hasOwnProperty("l")){var a;switch(t.o){case"s":a="#ff4f4f";break;case"i":a="#6bc4ff";break;default:a="#858585"}return Object(T.jsx)(F.a,{style:{color:a},children:zt(t.l)})}return Object(T.jsxs)(F.a,{children:[Object(T.jsxs)("span",{style:{color:"#777777"},children:["[",Object(T.jsx)("span",{style:{color:le[t.p]},children:e.matchInfo.players.find((function(e){return e.num==t.p})).name}),"]"]})," ",zt(t.m)]})})),Object(T.jsxs)(q.a,{className:t.textField,variant:"filled",children:[Object(T.jsx)(G.a,{htmlFor:"messageInput",children:"Message"}),Object(T.jsx)(K.a,{id:"messageInput",type:"text",value:ne,onChange:function(e){return re(e.target.value)},autoComplete:"off",inputProps:{maxLength:99,onKeyDown:function(e){"Enter"==e.key&&se()}},disabled:V,endAdornment:Object(T.jsx)(_.a,{position:"end",children:Object(T.jsx)(X.a,{"aria-label":"Join",onClick:se,edge:"end",children:Object(T.jsx)(Rt.a,{})})})})]}),Object(T.jsx)("span",{ref:n})]}),Object(T.jsxs)("div",{className:t.voteArea,children:[Object(T.jsx)("div",{style:{color:"black",fontSize:13,cursor:"auto",height:25},children:Object(T.jsxs)("span",{style:{textAlign:"center",width:"100%"},children:["Voting for: ",null==A?"Turn end":"".concat(A[0].toUpperCase()).concat(A.slice(1))]})}),e.matchInfo.players.map((function(e){return Object(T.jsxs)("div",{onClick:function(){return Ea.emit("vote",e.num)},children:[Object(T.jsx)("div",{style:{background:le[e.num],width:"100%"},children:Object(T.jsx)("span",{style:{textDecoration:"".concat(e.dead?"line-through":""," ").concat(Ea.id.startsWith(e.id)?"underline":"")},children:e.name})}),Object(T.jsx)("span",{style:{borderLeft:"1px solid #0000001f",fontSize:0,padding:8,background:null==oe[e.num]||null==oe[e.num]==1?"white":le[oe[e.num]]},children:null==oe[e.num]?e.dead?Object(T.jsx)(Lt.a,{style:{color:"black"}}):Object(T.jsx)(Jt.a,{style:{color:"black"}}):Object(T.jsx)(Dt.a,{style:{color:!0===oe[e.num]?"black":"white"}})})]})}))]})]});case"choosePlayer":return Object(T.jsxs)("div",{children:[Object(T.jsx)(F.a,{variant:"h4",children:D}),e.matchInfo.players.map((function(e){if(!e.dead)return Object(T.jsx)("button",{style:{background:le[e.num]},onClick:function(){return Ea.emit("choosePlayer",e.num)},children:e.name})}))]})}}()})};a(216);function Ut(e){return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)("img",{src:"/roles/".concat(e.matchInfo.role,".png"),width:100}),Object(T.jsx)(F.a,{variant:"h5",style:{color:le[e.matchInfo.me.num]},children:e.matchInfo.me.name})]}),Object(T.jsx)(F.a,{variant:"h6",children:function(){switch(e.matchInfo.role){case"pirate":switch(e.matchInfo.options.mode){case 0:case 1:var t=e.matchInfo.players.length>=6?2:1;return"There ".concat(2==t?"are":"is"," ").concat(t," sea monster").concat(2==t?"s":""," in this match, everyone else is a pirate.");case 2:var a=e.matchInfo.players.length-2;return"There are ".concat(a-1," other pirates on your team, one of whom is a biologist who knows the identity of the sea monsters. There's 1 Sea Master and 1 Sea Servant.");case 3:return"Everyone is a pirate in this match! There are no sea monsters."}break;case"seamonster":return 0==e.matchInfo.options.mode?Object(T.jsxs)("span",{children:[Object(T.jsx)("span",{style:{color:le[e.matchInfo.teammate.num]},children:e.matchInfo.teammate.name})," is also a sea monster, everyone else is a pirate."]}):e.matchInfo.players.length>=6?"There's 1 other sea monster who is on your team, everyone else is a pirate.":"You're the only sea monster. Everyone else is a pirate.";case"seaservant":return"The Sea Master knows who you are and is with you. Everyone else is a pirate, 1 of whom is a biologist, who knows who you and the Sea Master are.";case"seamaster":return Object(T.jsxs)("span",{children:[Object(T.jsx)("span",{style:{color:le[e.matchInfo.teammate.num]},children:e.matchInfo.teammate.name})," is the sea servant, everyone else is a pirate, 1 of whom is a biologist, who knows who you and the Sea Servant are."]});case"biologist":return Object(T.jsx)("div",{children:e.matchInfo.roles.map((function(t){if("biologist"==t.role)return"";var a=e.matchInfo.players.find((function(e){return e.num==t.num}));return Object(T.jsxs)("span",{style:{color:le[a.num],display:"inline-block",marginRight:15},children:[a.name,": ",Object(T.jsx)("img",{src:"/roles/".concat(t.role,".png"),width:50}),Object(T.jsx)("br",{})]})}))})}}()}),Object(T.jsx)(F.a,{children:"Check the rulebook to see what you have to do."})]})}var qt=function(e){E({title:"Your role info"},Object(T.jsx)(Ut,{matchInfo:e}))},Kt=a(92),Gt=a.n(Kt),_t=a(146),Xt=a.n(_t),Qt=a(147),Zt=a.n(Qt),$t="30vh",ea=Object(Y.a)({gameInfo:{display:"flex",width:"100%",height:83,margin:"auto",alignItems:"center",justifyContent:"space-between",position:"sticky",top:0,backgroundColor:"#ffea8c",borderBottom:"1px solid #0000001f",zIndex:100,"& div":{flexGrow:1}},gameInfoTitle:{textAlign:"center"},gameInfoContent:{display:"flex",alignItems:"end",justifyContent:"center"},boardContainer:{maxHeight:"calc(100vh - 83px - ".concat($t,")"),height:"100vh",textAlign:"center",lineHeight:0,position:"relative"},board:{height:"100%",width:"100%",objectFit:"contain",position:"absolute",top:0,left:0},buttons:{position:"absolute",display:"flex",flexDirection:"column",opacity:1,width:48,zIndex:100}});var ta=function(e){var t=ea(),a=(e.players.find((function(t){return e.myId.startsWith(t.id)})),d.a.useState(e.matchInfo.dir)),n=Object(te.a)(a,2),r=n[0],s=n[1],i=d.a.useState(e.matchInfo.ship),c=Object(te.a)(i,2),o=c[0],l=c[1];return d.a.useEffect((function(){return qt(e.matchInfo),Ea.on("dir",(function(e){return s(e)})),Ea.on("move",(function(e){return l(e)})),function(){Ea.off("dir"),Ea.off("pos")}}),[]),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:t.gameInfo,children:[Object(T.jsx)(ve.a,{title:"treasures found / treasures needed (for pirates to win) / total treasures",children:Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:t.gameInfoTitle,children:Object(T.jsx)(F.a,{variant:"subtitle1",children:"Treasures found"})}),Object(T.jsxs)("div",{className:t.gameInfoContent,children:[Object(T.jsx)(F.a,{variant:"h3",children:Object(T.jsx)("span",{id:"treasuresFound",children:"0"})}),Object(T.jsxs)(F.a,{variant:"h5",children:["/",Object(T.jsx)("span",{id:"treasuresNeeded",children:"?"})]}),Object(T.jsxs)(F.a,{children:["/",Object(T.jsx)("span",{id:"treasuresTotal",children:"?"})]})]})]})}),Object(T.jsx)(ve.a,{title:"Ship HP / Maximum ship HP. If this reaches 0, the ship sinks, which means the Sea Monsters win and the pirates lose.",children:Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:t.gameInfoTitle,children:Object(T.jsx)(F.a,{variant:"subtitle1",children:"Ship HP"})}),Object(T.jsxs)("div",{className:t.gameInfoContent,children:[Object(T.jsx)(F.a,{variant:"h3",children:Object(T.jsx)("span",{id:"shipHP",children:"?"})}),Object(T.jsxs)(F.a,{variant:"h5",children:["/",Object(T.jsx)("span",{id:"maxShipHP",children:"?"})]})]})]})}),Object(T.jsx)(ve.a,{title:"turn number lol",children:Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:t.gameInfoTitle,children:Object(T.jsx)(F.a,{variant:"subtitle1",children:"Turn"})}),Object(T.jsx)("div",{className:t.gameInfoContent,children:Object(T.jsx)(F.a,{variant:"h3",children:Object(T.jsx)("span",{id:"turnNumber",children:"?"})})})]})})]}),Object(T.jsxs)("div",{className:t.buttons,children:[Object(T.jsx)(lt.ShowRulesButton,{}),Object(T.jsx)(X.a,{onClick:function(){return qt(e.matchInfo)},children:Object(T.jsx)(Xt.a,{})}),Object(T.jsx)(X.a,{onClick:function(){return Ue.showMatchOptions({editable:!1,started:!0,ingame:!0,options:e.matchInfo.options})},children:Object(T.jsx)(Gt.a,{})}),Object(T.jsx)(X.a,{onClick:function(){return E({title:"Room Code",description:"Players can use this code to rejoin the match if they get disconnected:"},Object(T.jsx)(F.a,{variant:"h2",children:e.matchInfo.code}))},children:Object(T.jsx)(Zt.a,{})})]}),Object(T.jsxs)("div",{className:t.boardContainer,children:[Object(T.jsx)("canvas",{id:"board",style:{},className:t.board}),Object(T.jsx)(ve.a,{title:Object(T.jsxs)("span",{style:{fontSize:30,lineHeight:1.2},children:[o[1]+1,", ",o[0]+1," | ",["N","NE","E","SE","S","SW","W","NW"][r]," (","\u2191\u2197\u2192\u2198\u2193\u2199\u2190\u2196"[r],")"]}),children:Object(T.jsx)("canvas",{id:"topLayer",style:{},className:t.board})})]}),Object(T.jsx)(Yt,{height:$t,matchInfo:e.matchInfo})]})},aa=a(148),na=a.n(aa),ra={treasure:[!0,"The pirates found all the treasure they needed!"],kill:[!0,"The pirates found and killed a sea monster!"],sink:[!1,"The ship sank."],snitch:[!1,"The Sea Master found the biologist and snitched on them."]},sa=Object(Y.a)({root:{textAlign:"center"},tableCell:{textAlign:"center"},gamesContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center","& div":{marginLeft:25,marginRight:25}},gameImage:{width:150},counterImage:{height:10},you:{color:"red"},otherPlayer:{}});var ia=function(e){var t=sa();new Audio("/endMatch.mp3").play();var a=ra[e.results.cause];return Object(T.jsx)("div",{children:Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(X.a,{onClick:function(){return Ue.showMatchOptions({editable:!1,started:!0,ingame:!0,options:e.matchInfo.options})},children:Object(T.jsx)(Gt.a,{})}),Object(T.jsx)(X.a,{onClick:function(){return window.location.reload()},children:Object(T.jsx)(na.a,{})}),Object(T.jsx)(lt.ShowRulesButton,{}),Object(T.jsxs)(F.a,{variant:"h3",children:[Object(T.jsxs)("span",{style:{color:a[0]?"#00ff00":"#ff0000"},children:[a[0]?"Pirate":"Sea Monster","s"]})," win!"]}),Object(T.jsx)(F.a,{variant:"h5",gutterBottom:!0,children:a[1]}),Object(T.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:e.results.roles.map((function(t){var a=e.matchInfo.players.find((function(e){return e.num==t.num}));return Object(T.jsxs)("span",{style:{margin:10},children:[Object(T.jsx)("img",{src:"/roles/".concat(t.role,".png"),width:100}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{style:{fontSize:20,textAlign:"center",color:le[a.num],textDecoration:"".concat(a.dead?"line-through":""," ").concat(e.myId.startsWith(a.id)?"underline":"")},children:a.name})]})}))}),Object(T.jsx)("br",{}),Object(T.jsx)(S.a,{color:"primary",size:"large",style:{margin:"16px 0"},onClick:function(){return Ea.emit("rejoin",e.rjCode,e.matchInfo.options)},children:"Play again"}),Object(T.jsx)(V.a,{}),Object(T.jsx)(F.a,{variant:"h3",children:"Final board"}),Object(T.jsx)("img",{src:e.finalBoard,style:{height:"80vh",maxWidth:"100%",objectFit:"contain"}})]})})};for(var ca={tiles:{},ship:Array(36).fill(null).map((function(e,t){var a=new Image;return a.src="/ship/".concat(t,".png"),a}))},oa=0,la=["unknown","water","treasure","rock","iceberg","waves","storm","alcohol","whirlpoolleft","whirlpoolright","blank"];oa<la.length;oa++){var da=la[oa],ha="/tiles/".concat(da,".png");ca.tiles[da]=new Image,ca.tiles[da].src=ha}ca.ship.src="/ship.png";var ja,ba,ua,ma,pa,xa,Oa,fa=ca,ga=200,ya=20,va=(new Audio("/place.mp3"),new Audio("/otherPlace.mp3"),new Audio("/endGame.mp3"),new Audio("/startTurn.mp3"),[]),wa=null,Sa=null,ka=[],Ca=!1;function Ia(){pa.globalAlpha=1,pa.clearRect(0,0,ma.width,ma.height),pa.fillStyle="black";for(var e=1;e<ja.options.boardSize[0];e++)pa.fillRect(ya,206*e-6+ya,206*ja.options.boardSize[1]-6,6);for(var t=1;t<ja.options.boardSize[1];t++)pa.fillRect(206*t-6+ya,ya,6,206*ja.options.boardSize[0]-6);pa.fillStyle="#0100fc",pa.fillRect(0,0,ya,206*ja.options.boardSize[0]-6+40),pa.fillStyle="#02fe01",pa.fillRect(206*ja.options.boardSize[1]-6+ya,0,ya,206*ja.options.boardSize[0]-6+40),pa.fillStyle="#fe0000",pa.beginPath(),pa.moveTo(0,0),pa.lineTo(ya,ya),pa.lineTo(206*ja.options.boardSize[1]-6+ya,ya),pa.lineTo(206*ja.options.boardSize[1]-6+40,0),pa.fill(),pa.fillStyle="#fdff06",pa.beginPath(),pa.moveTo(0,206*ja.options.boardSize[0]-6+40),pa.lineTo(206*ja.options.boardSize[1]-6+40,206*ja.options.boardSize[0]-6+40),pa.lineTo(206*ja.options.boardSize[1]-6+ya,206*ja.options.boardSize[0]-6+ya),pa.lineTo(ya,206*ja.options.boardSize[0]-6+ya),pa.fill();for(var a=0;a<ja.options.boardSize[0];a++)for(var n=0;n<ja.options.boardSize[1];n++){var r=fa.tiles[ja.board[a][n]];r.complete&&pa.drawImage(r,206*n+ya,206*a+ya,ga,ga)}}function Na(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Ca||e){Oa.clearRect(0,0,xa.width,xa.height);var t=Date.now(),a=[],n=!1;va.forEach((function(e,r){t-e.start>=e.time&&a.push(r),e.new&&(n=!0,e.new=!1),Oa.globalAlpha=1-Math.min(1,(t-e.start)/e.time),fa.tiles[e.before].complete&&Oa.drawImage(fa.tiles[e.before],206*e.location[1]+ya,206*e.location[0]+ya,ga,ga)})),n&&Ia(),a.reverse(),a.forEach((function(e){return va.splice(e,1)})),null!=wa&&(ja.ship=wa.from.map((function(e,a){return e+(wa.to[a]-e)*Math.min(1,(t-wa.start)/wa.time)})),t-wa.start>wa.time&&(wa=null)),null!=Sa&&(ja.dir=(Sa.from+Sa.diff*Math.min(1,(t-Sa.start)/Sa.time)+8)%8,t-Sa.start>Sa.time&&(Sa=null)),Oa.globalAlpha=1;var r=fa.ship[(Math.round(4.5*ja.dir)+36)%36];r.complete&&Oa.drawImage(r,206*ja.ship[1]+ya,206*ja.ship[0]+ya,ga,ga),Oa.textAlign="center",Oa.textBaseline="middle",Oa.font="".concat(160,"px sans-serif");var s=[];ka.forEach((function(e,n){t-e.start>=e.time&&a.push(n);var r=Math.min(1,(t-e.start)/e.time);Oa.globalAlpha=Math.sin(r*Math.PI),Oa.fillStyle=e.color,Oa.fillText(e.text,206*e.at[1]+ya+100,206*e.at[0]+ya+100-e.height*r)})),s.reverse(),s.forEach((function(e){return ka.splice(e,1)})),requestAnimationFrame(Na)}}function Pa(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();va.push({location:e,before:ja.board[e[0]][e[1]],start:a,time:200,new:!0}),ja.board[e[0]][e[1]]=t}function Ta(e,t){ka.push({text:e,color:t,at:Object(je.a)(ja.ship),height:100,start:Date.now(),time:2e3})}function Ma(e){0!=e&&(Ta("".concat(e>0?"+":"-").concat(Math.abs(e)),e>0?"#2eff70":"#ff2e2e"),(ua+=e)>ja.options.maxHP&&(ua=ja.options.maxHP),document.getElementById("shipHP").innerHTML=ua)}var Ha=p()(x,{transports:["websocket"]}),Aa=!1;function za(e){setTimeout((function(){Ha.disconnected&&(j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(L,{error:e.toString()})]}),document.getElementById("root")),Ha.disconnect())}),1e4)}j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(B,{})]}),document.getElementById("root")),Ha.on("connect",(function(){Aa||(Aa=!0,j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(ht,{})]}),document.getElementById("root")))})),Ha.on("connect_error",za),Ha.on("connect_timeout",za),Ha.on("disconnect",za),Ha.on("err",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error:";E({layer:"err",title:t,description:e})})),Ha.on("noMatches",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({title:"No public matches available.",description:"Maybe create one yourself for people to join?",buttonText:"Create match with default options",buttonAction:function(){t.handleClose(),Ha.emit("createMatch",Object(c.a)(Object(c.a)({},Pe),{},{public:!0}))}});case 2:t=e.sent;case 3:case"end":return e.stop()}}),e)})))),Ha.on("kicked",(function(e){E({required:!0,title:"Kicked!",description:"".concat(e," kicked you from the lobby."),buttonText:"Back Home",buttonAction:function(){return window.location.reload()}})})),Ha.on("disconnect",(function(){setTimeout((function(){E({title:"Disconnected.",description:"Lost connection to the Clueless Captains server. You might not be able to do anything. Sorry :/"})}),200)})),Ha.on("joinMatch",(function(){})),Ha.on("matchUpdate",(function(e){e.started||j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(Nt,{matchInfo:e})]}),document.getElementById("root")),Ue.changeOptions(e.options)})),Ha.on("matchStart",(function(e){return t=e,a=Ha.id,ba=a,ja=t,0,void j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(ta,{matchInfo:ja,players:t.players,myId:ba})]}),document.getElementById("root"),(function(){ma=document.getElementById("board"),pa=ma.getContext("2d"),xa=document.getElementById("topLayer"),Oa=xa.getContext("2d"),ma.width=206*ja.options.boardSize[1]-6+40,ma.height=206*ja.options.boardSize[0]-6+40,xa.width=206*ja.options.boardSize[1]-6+40,xa.height=206*ja.options.boardSize[0]-6+40,document.getElementById("treasuresNeeded").innerHTML=ja.options.treasuresNeeded,document.getElementById("treasuresTotal").innerHTML=ja.options.tiles.treasure,ua=ja.options.startHP,document.getElementById("shipHP").innerHTML=ua,document.getElementById("maxShipHP").innerHTML=ja.options.maxHP,Ia(),Ca=!0,Na(),new Audio("/startMatch.mp3").play()}));var t,a})),Ha.on("comebackchoice",(function(e,t){return j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(Pt,{choices:e,code:t})]}),document.getElementById("root"))})),Ha.on("move",(function(e){return function(e){wa={from:ja.ship,to:e,start:Date.now(),time:1e3}}(e)})),Ha.on("dir",(function(e){return t=e,void(Sa={from:ja.dir,diff:(4-Math.abs(Math.abs(t-ja.dir)-4))*((t-ja.dir+8)%8>4?-1:1),start:Date.now(),time:400});var t})),Ha.on("reveal",(function(e,t){return Pa(e,t)})),Ha.on("changeTile",(function(e,t){return Pa(e,t)})),Ha.on("damage",(function(e){return Ma(-e)})),Ha.on("heal",(function(e){return Ma(e)})),Ha.on("treasure",(function(){Ta("+T","#d69d00"),document.getElementById("treasuresFound").innerHTML=Number(document.getElementById("treasuresFound").innerHTML)+1})),Ha.on("turnNum",(function(e){return function(e){document.getElementById("turnNumber").innerHTML=e}(e)})),Ha.on("die",(function(e){return t=e,void(ja.players.find((function(e){return e.num==t})).dead=!0);var t})),Ha.on("endMatch",(function(e,t){return function(e,t){Ca=!1,va=[],ja.board.forEach((function(t,a){return t.forEach((function(t,n){"unknown"==t&&(ja.board[a][n]=e.board[a][n],Pa([a,n],"blank",Date.now()-60),ja.board[a][n]="blank"),e.board[a][n]!=e.originalBoard[a][n]&&Pa([a,n],e.originalBoard[a][n],Date.now()-40)}))})),Ia(),Na(!0),console.log(xa.toDataURL()),pa.drawImage(xa,0,0),j.a.render(Object(T.jsxs)(u.a,{theme:r,children:[Object(T.jsx)(b.a,{}),Object(T.jsx)(ia,{myId:ba,results:e,matchInfo:ja,rjCode:t,finalBoard:ma.toDataURL()})]}),document.getElementById("root")),ja=null}(e,t)})),Ha.on("rejoin",(function(e){return window.location.href="/?".concat(e)}));var Ea=Ha},32:function(e){e.exports=JSON.parse('{"public":false,"players":5,"startHP":15,"maxHP":15,"rockDamage":1,"iceDamage":2,"leaveDamage":1,"treasureHeal":0,"boardSize":[7,7],"startPos":[3,3],"startDir":1,"revealTiles":false,"tiles":{"treasure":5,"rock":10,"iceberg":0,"waves":0,"storm":0,"alcohol":0,"whirlpoolleft":0,"whirlpoolright":0},"treasuresNeeded":5,"handSize":3,"minPlayed":1,"maxPlayed":1,"topPlayed":0,"evilsSeeCards":false,"cards":{"n1":4,"n2":2,"n3":1,"n4":0,"ne1":1,"ne2":0,"ne3":0,"ne4":0,"e1":4,"e2":2,"e3":1,"e4":0,"se1":1,"se2":0,"se3":0,"se4":0,"s1":4,"s2":2,"s3":1,"s4":0,"sw1":1,"sw2":0,"sw3":0,"sw4":0,"w1":4,"w2":2,"w3":1,"w4":0,"nw1":1,"nw2":0,"nw3":0,"nw4":0,"forward1":1,"forward2":0,"forward3":0,"forward4":0,"turnl1":0,"turnl2":0,"turnl3":0,"turnr1":0,"turnr2":0,"turnr3":0,"turnr4":0,"seasickness":0,"persist":0,"relocate":0,"chaos":0,"bravery":0,"compass0":4,"compass1":2,"compass2":0,"compass3":0,"compass4":0,"compass5":0,"compass6":0,"compass7":0,"hammer":0,"nail":0,"hammernail":0,"lookout":0,"reinforce":0,"matchstick":0,"block":0,"mute":0,"brig":4,"captain":0,"investigate":0,"mutiny":1},"votingAnonymity":0,"mode":1,"names":0}')}},[[217,1,2]]]);
//# sourceMappingURL=main.cee54b71.chunk.js.map